(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{WO3u:function(t,i,o){t.exports={app:"app",page:"page",box:"box",block:"block",top:"top",bottom:"bottom"}},mWO7:function(t,i,o){"use strict";o.r(i);o("RnT8");var s={scrollEl:null,startY:0,gpu:!0,click:!0,resizeTime:100,touchToWrapper:!1,loadRefresh:!0,preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|A)$/},stopPropagation:!1,momentum:!0,momentumDuration:2500,momentumBounceDuration:500,momentumLimitTime:300,momentumLimitDistance:15,deceleration:.0015,bounce:!0,bounceRate:1.5,bounceDuration:800,bounceLimitDistance:1e3,scrollbar:!0,pulltopLimitDistance:100,pullbottomLimitDistance:100},n=(o("SxVt"),o("Wfpi"),o("jYVR"),o("kU0D"),window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(t){return setTimeout(t,1e3/60)}),e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||function(t){return clearTimeout(t)};function r(t){console.error("[Scroller warn]: "+t)}function l(){return Date.now()}function h(t){return"string"==typeof t}function a(t){return"number"==typeof t}o("vApJ"),o("n7Xr");var c=document.createElement("div").style,u={webkit:"Webkit",moz:"Moz",o:"O",ms:"ms"},p={webkit:"webkit",moz:"",o:"o",ms:"MS"};function m(t){if(t in c)return"";var i=t[0].toUpperCase()+t.substr(1);for(var o in u)if(u[o]+i in c)return o;return""}function d(t){var i=m(t);return i?i+t[0].toUpperCase()+t.substr(1):t}var f,g,v,b=function(t){var i;if(0===t.indexOf("transition")?i="transition":0===t.indexOf("animation")&&(i="animation"),!i)return t;var o=p[m(i)];if(o){var s=t.substr(i.length);return o+i[0].toUpperCase()+i.substr(1)+s[0].toUpperCase()+s.substr(1)}return t}("transitionend"),y={transform:d("transform"),transitionProperty:d("transitionProperty"),transitionTimingFunction:d("transitionTimingFunction"),transitionDuration:d("transitionDuration"),cssTransform:(f="transform",g=m(f),v=f.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}),g?"-"+g+"-"+v:v)};function Y(t,i){for(var o in i)if(i[o].test(t[o]))return!0;return!1}function w(t,i,o,s){t.addEventListener(i,o,s)}function S(t,i,o,s){t.removeEventListener(i,o,s)}function T(t){for(var i=0;t;)i-=t.offsetTop,t=t.offsetParent;return i}o("bH7Y");var D=window.navigator.userAgent.toLowerCase().indexOf("android")>0,E={swipe:"cubic-bezier(0.23, 1, 0.32, 1)",swipeBounce:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",bounce:"cubic-bezier(0.165, 0.84, 0.44, 1)"},_={_init:function(){this._initStyle(),this._initEvents(w),this._initScrollbar(),this.options.loadRefresh||(this.domLoaded=!0,this.refresh())},_initStyle:function(){this._transition({Property:y.cssTransform,TimingFunction:E.bounce,Duration:"0ms"}),this._translateY(this.options.startY)},_initEvents:function(){this._loadBind=this._load.bind(this),this._resizeBind=this._resize.bind(this),this._clickBind=this._click.bind(this),this._touchstartBind=this._touchstart.bind(this),this._touchmoveBind=this._touchmove.bind(this),this._touchendBind=this._touchend.bind(this),this._touchcancelBind=this._touchcancel.bind(this),this._transitionendBind=this._transitionend.bind(this),this._handleEvents(w)},_handleEvents:function(t){var i=this.options.touchToWrapper?this.wrapEl:window;this.options.loadRefresh&&t(window,"load",this._loadBind,{passive:!1,capture:!1}),t(window,"resize",this._resizeBind,{passive:!1,capture:!1}),this.options.click&&t(this.wrapEl,"click",this._clickBind,{passive:!1,capture:!0}),t(this.wrapEl,"touchstart",this._touchstartBind,{passive:!1,capture:!1}),t(i,"touchmove",this._touchmoveBind,{passive:!1,capture:!1}),t(i,"touchend",this._touchendBind,{passive:!1,capture:!1}),t(i,"touchcancel",this._touchcancelBind,{passive:!1,capture:!1}),t(this.scrollEl,b,this._transitionendBind,{passive:!1,capture:!1})},_initScrollbar:function(){this.options.scrollbar&&this.wrapEl.appendChild(this._createScrollbar())}},x={_touchstart:function(t){if(!this.isDisabled&&this.domLoaded){this.isInTouch=!0,this.options.preventDefault&&!Y(t.target,this.options.preventDefaultException)&&t.preventDefault(),this.options.stopPropagation&&t.stopPropagation(),this.stop();var i=t.touches[0];this.startTime=l(),this.startY=this.y,this.pointY=i.pageY,this.distanceY=0,this.movingDistanceY=0,this.isMoved=!1,this.pulltopstarted=!1,this.pullbottomstarted=!1,this.trigger("touchstart",{y:this.y})}},_touchmove:function(t){if(!this.isDisabled&&this.isInTouch&&this.domLoaded){this.options.preventDefault&&t.preventDefault(),this.options.stopPropagation&&t.stopPropagation();var i=t.touches[0],o=i.pageY-this.pointY,s=this.y+o,n=l();if(this.pointY=i.pageY,this.distanceY+=o,!(n-this.endTime>this.options.momentumLimitTime&&Math.abs(this.distanceY)<this.options.momentumLimitDistance)){var e=s>this.minScrollY,r=s<this.maxScrollY,h=this.y+o/3;e?this.options.bounce.top?(s=Math.min(h,this.minScrollY+this.options.bounceLimitDistance),this.pullingtop||(s-this.minScrollY>this.options.pulltopLimitDistance?this.pulltopstarted||(this.pulltopstarted=!0,this.trigger("pulltopstart")):this.pulltopstarted&&(this.pulltopstarted=!1,this.trigger("pulltopcancel")))):s=this.minScrollY:r&&(this.options.bounce.bottom?(s=Math.min(h,this.maxScrollY+this.options.bounceLimitDistance),this.pullingbottom||(s-this.maxScrollY<-this.options.pullbottomLimitDistance?this.pullbottomstarted||(this.pullbottomstarted=!0,this.trigger("pullbottomstart")):this.pullbottomstarted&&(this.pullbottomstarted=!1,this.trigger("pullbottomcancel")))):s=this.maxScrollY),this._translateY(s),this.trigger("touchmove",{y:this.y}),this.isMoved?this.trigger("scroll",{y:this.y}):(this.isMoved=!0,this.trigger("scrollstart",{y:this.y})),n-this.startTime>this.options.momentumLimitTime&&(this.movingDistanceY=s-this.startY,this.startTime=n,this.startY=s);var a={top:document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop,left:document.documentElement.scrollLeft||window.pageYOffset||document.body.scrollLeft},c=this.pointX-a.left,u=this.pointY-a.top;(u<this.options.momentumLimitDistance||u>this.clientHeight-this.options.momentumLimitDistance||c<this.options.momentumLimitDistance||c>this.clientWidth-this.options.momentumLimitDistance)&&this._touchend(t)}}},_touchend:function(t){if(!this.isDisabled&&this.isInTouch&&this.domLoaded){this.isInTouch=!1,this.options.preventDefault&&!Y(t.target,this.options.preventDefaultException)&&t.preventDefault(),this.options.stopPropagation&&t.stopPropagation(),this.trigger("touchend",{y:this.y});var i=this.y-this.startY,o=Math.round(this.y),s=(this.endTime=l())-this.startTime,n=o-this.startY;if(this.distanceY+=i,s>this.options.momentumLimitTime&&(this.movingDistanceY=i),!(this._checkPulltop()||this._checkPullbottom()||this._checkClick(t)||this.resetScroll())){if(this._translateY(o),this.options.momentum&&s<this.options.momentumLimitTime&&Math.abs(n)>this.options.momentumLimitDistance){var e=n>0&&this.options.bounce.top||n<0&&this.options.bounce.bottom?this.wrapEl.offsetHeight:0,r=this._getMomentum(n,s,e),h="swipe";return(r.targetY>this.minScrollY||r.targetY<this.maxScrollY)&&(h="swipeBounce"),void this.scrollTo(r.targetY,r.duration,h)}this.isMoved&&this.trigger("scrollend",{y:this.y})}}},_touchcancel:function(t){this._touchend(t)},_transitionend:function(t){t.target===this.scrollEl&&this.isInTransition&&this.domLoaded&&(this._transition({Duration:"0ms"}),this.y>this.minScrollY&&!this.pullingtop||this.y<this.maxScrollY&&!this.pullingbottom?this.resetScroll():this.pullingtop||this.pullingbottom?this.trigger("scrollend",{y:this.y}):("function"==typeof this.onPullHide&&(this.onPullHide(),this.onPullHide=null),this.trigger("scrollend",{y:this.y})))},_load:function(t){this.domLoaded=!0,this.refresh()},_resize:function(t){var i=this;this.isDisabled||(D&&(this.wrapEl.scrollTop=0),clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(function(){i.refresh()},this.options.resizeTime))},_click:function(t){this.isDisabled||t._constructed||Y(t.target,this.options.preventDefaultException)||(t.preventDefault(),t.stopPropagation())}};o("ouuM"),o("iOqC"),o("MzUz"),o("djDK"),o("qgS1"),o("jHft");var L={},k={_translateY:function(t){this.y=t,this.scrollStyle[y.transform]="translateY("+t+"px)"+this.translateZ},_transition:function(t){for(var i in t.Duration&&parseInt(t.Duration)>0?this.isInTransition=!0:this.isInTransition=!1,t)this.scrollStyle[y["transition"+i]]=t[i]},_animation:function(){var t=this;this.listeners.scroll&&(this.trigger("scroll",{y:this.getLiveY()}),this.animationTimer=n(function(){t.isInTransition&&t._animation()}))},_checkPulltop:function(){if(this.listeners.pulltop&&!this.pullingtop){var t=this.minScrollY+this.options.pulltopLimitDistance;return this.y>t&&(this.pullingtop=!0,this.trigger("pulltop"),this.scrollTo(t,this.options.bounceDuration,"bounce"),!0)}return!1},_checkPullbottom:function(){if(this.listeners.pullbottom&&!this.pullingbottom){var t=this.maxScrollY-this.options.pullbottomLimitDistance;return this.y<t&&(this.pullingbottom=!0,this.trigger("pullbottom"),this.scrollTo(t,this.options.bounceDuration,"bounce"),!0)}return!1},_checkClick:function(t){if(!this.options.click)return!1;var i=this.stopFromTransition||this.pulling;return this.stopFromTransition=!1,!(this.isMoved||i||Y(t.target,this.options.preventDefaultException))&&(this.events.click||(this.events.click=function(t,i){var o;if(void 0===i&&(i="click"),void 0!==window.MouseEvent)try{(o=new window.MouseEvent(i,{bubbles:!0,cancelable:!0}))._mouseEvent=!0}catch(t){(o=document.createEvent("Event")).initEvent(i,!0,!0)}else(o=document.createEvent("Event")).initEvent(i,!0,!0);return o.forwardedTouchEvent=!0,o._constructed=!0,o}(0,"click")),function(t,i){i._mouseEvent||(i.pageX=t.pageX,i.pageY=t.pageY),t.target.dispatchEvent(i)}(t,this.events.click),!0)},_getMomentum:function(t,i,o){var s=this.options.momentumDuration,n=Math.abs(t/i),e=this.y+n/this.options.deceleration*(t<0?-1:1),r=Math.max(4*this.options.bounceRate,15*this.options.bounceRate/n);return e>this.minScrollY?(s=this.options.momentumBounceDuration,e=this.minScrollY+Math.min(o/r,this.options.bounceLimitDistance)):e<this.maxScrollY&&(s=this.options.momentumBounceDuration,e=this.maxScrollY-Math.min(o/r,this.options.bounceLimitDistance)),{duration:s,targetY:Math.round(e)}},getLiveY:function(){return function(t){var i=t.match(/\((.+)\)/);if(i&&i[1]){var o=i[1].split(", ");return+(o[13]||o[5])}return 0}(this.scrollComputedStyle[y.transform])},stop:function(){this.isInTransition&&(e(this.animationTimer),this._transition({Duration:"0ms"}),this._translateY(this.getLiveY()),this.stopFromTransition=!0)},enable:function(){this.isDisabled=!1},disable:function(){this.isDisabled=!0},destroy:function(){this.stop(),this._handleEvents(S)},on:function(t,i){this.listeners[t]?this.listeners[t].push(i):this.listeners[t]=[i]},off:function(t,i){if(i&&this.listeners[t]){var o=this.listeners[t].findIndex(function(t){return t===i});-1!==o&&this.listeners[t].splice(o,1),0===this.listeners[t].length&&(this.listeners[t]=null)}},trigger:function(t,i){this.listeners[t]&&this.listeners[t].forEach(function(t){return t(i)})},refresh:function(){var t=this.scrollEl.offsetTop;"static"===this.wrapComputedStyle.position&&(t-=this.wrapEl.offsetTop),this.relativeY!==t&&(this.minScrollY-=t-this.relativeY,this.relativeY=t),this.wrapOffsetTop=T(this.wrapEl),this.maxScrollY=this.wrapEl.offsetHeight-this.scrollEl.offsetHeight-this.relativeY,this.maxScrollY>=this.minScrollY&&(this.maxScrollY=this.minScrollY),this.resetScroll(),this.pullingtop=!1,this.pullingbottom=!1,this.trigger("refresh")},refreshAfterImgLoaded:function(t){var i,o,s,n,e,r=this,l=[],a=0;if(h(t)?l=this.scrollEl.querySelectorAll(t):(e=t,(Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e))?t.forEach(function(t){if(h(t))for(o=r.scrollEl.querySelectorAll(t),i=0;i<o.length;i++)l.push(o[i]);else l.push(t)}):t&&t.length>0&&(l=t)),l.length>0)for(i=0;i<l.length;i++)n=l[i].getAttribute("src"),L[n]?++a>=l.length&&this.refresh():((s=new Image).onload=s.onerror=function(){a++,L[n]=!0,a>=l.length&&r.refresh()},s.src=n);else this.refresh()},setScroll:function(t,i){a(t)&&(this.minScrollY=t-this.relativeY),a(i)&&(this.maxScrollY=i-this.relativeY),this.maxScrollY>=this.minScrollY&&(this.maxScrollY=this.minScrollY),this.resetScroll()},setScrollByElement:function(t){"string"==typeof t&&(t=this.scrollEl.querySelector(t)),this.setScroll(-t.offsetTop,-(t.offsetTop+t.offsetHeight-this.wrapEl.offsetHeight))},resetScroll:function(t,i){void 0===t&&(t=this.options.bounceDuration),void 0===i&&(i="bounce");var o=Math.round(this.y);return o>this.minScrollY?(this.scrollTo(this.minScrollY,t,i),!0):o<this.maxScrollY&&(this.scrollTo(this.maxScrollY,t,i),!0)},scrollTo:function(t,i,o){void 0===i&&(i=0),void 0===o&&(o="swipe"),t!==this.y&&(i>0?(this._transition({TimingFunction:E[o]||o,Duration:i+"ms"}),this._animation()):this.trigger("scrollend",{y:t}),this._translateY(t))},scrollToElement:function(t,i,o,s){"string"==typeof t&&(t=this.scrollEl.querySelector(t));var n=T(t)-this.wrapOffsetTop;"middle"===o?n-=Math.round(t.offsetHeight/2-this.wrapEl.offsetHeight/2):"bottom"===o&&(n-=t.offsetHeight-this.wrapEl.offsetHeight),this.scrollTo(n,i,s)},scrollByOffset:function(t,i,o){this.scrollTo(this.y+t,i,o)},_pullDone:function(t){t.needLoadImgs?this.refreshAfterImgLoaded(t.needLoadImgs):!1!==t.refresh?this.refresh():(this.pullingtop=!1,this.pullingbottom=!1),!1!==t.reset&&(this.onPullHide=t.onHide,this.resetScroll())},pulltopDone:function(t){void 0===t&&(t={}),this._pullDone(t)},pullbottomDone:function(t){void 0===t&&(t={}),this._pullDone(t)}};function C(t,i,o){this.scroller=o,this.scrollbarEl=t,this.indicatorEl=i,this.scrollbarStyle=this.scrollbarEl.style,this.indicatorStyle=this.indicatorEl.style,this.y=0,this.maxY=0,this.ratio=1,this.init()}Object.assign(C.prototype,{init:function(){var t=this;this.scroller.on("refresh",function(){t.refresh()}),this.scroller.on("scrollstart",function(i){var o=i.y;t.scrollbarStyle.opacity=1,t.updatePosition(o)}),this.scroller.on("scroll",function(i){var o=i.y;t.updatePosition(o)}),this.scroller.on("scrollend",function(i){var o=i.y;t.scrollbarStyle.opacity=0,t.updatePosition(o)})},refresh:function(){this.transitionDuration(),this.calculate(),this.updatePosition()},transitionDuration:function(t){void 0===t&&(t=0),this.indicatorStyle[y.transitionDuration]=t+"ms"},calculate:function(){var t=this.scrollbarEl.offsetHeight;this.indicatorHeight=Math.max(Math.round(t*t/(this.scroller.scrollEl.offsetHeight||t||1)),8),this.maxY=t-this.indicatorHeight,this.ratio=this.maxY/(this.scroller.maxScrollY-this.scroller.minScrollY),this.indicatorStyle.height=this.indicatorHeight+"px"},updatePosition:function(t){void 0===t&&(t=this.scroller.y);var i=Math.round(this.ratio*(t-this.scroller.minScrollY));if(i<0){this.transitionDuration(this.scroller.bounceDuration);var o=Math.max(this.indicatorHeight+3*i,8);this.indicatorStyle.height=o+"px",i=0}else if(i>this.maxY){this.transitionDuration(this.scroller.bounceDuration);var s=Math.max(this.indicatorHeight-3*(i-this.maxY),8);this.indicatorStyle.height=s+"px",i=this.maxY+this.indicatorHeight-s}else this.transitionDuration(),this.indicatorStyle.height=this.indicatorHeight+"px";this.y=i,this.indicatorStyle[y.transform]="translateY("+i+"px)"+this.scroller.translateZ}});var M={_createScrollbar:function(){var t=document.createElement("div"),i=document.createElement("div"),o=document.querySelector('meta[name="viewport"]'),s=1;if(o){var n=o.getAttribute("content").match(/initial-scale=([\d.]+)/);s=parseInt(1/(n&&n[1]||1))}return t.className="_axe-scrollbar",i.className="_axe-indicator",t.style.cssText=["position: absolute","top: 2px","bottom: 2px","right: "+2*s+"px","width: "+2*s+"px","z-index: 10000001","opacity: 0","overflow: hidden","pointer-events: none"].join("; "),t.style[y.transitionProperty]="opacity",t.style[y.transitionTimingFunction]="ease",t.style[y.transitionDuration]="250ms",i.style.cssText=["width: 100%","border-radius: 10px","background-color: rgba(0, 0, 0, 0.5)"].join("; "),t.style[y.transitionProperty]="all",i.style[y.transitionTimingFunction]=E.bounce,i.style[y.transitionDuration]="0ms",t.appendChild(i),this.scrollbar=new C(t,i,this),t}};function H(t,i){this.wrapEl="string"==typeof t?document.querySelector(t):t,this.wrapEl||r("Can not resolve the wrapper DOM."),this.options=Object.assign({},s,i),!0===this.options.bounce?this.options.bounce={top:!0,bottom:!0}:this.options.bounce||(this.options.bounce={top:!1,bottom:!1});var o=this.options.scrollEl;this.scrollEl=o?"string"!=typeof o?o:this.wrapEl.querySelector(o):this.wrapEl.firstElementChild,this.scrollEl||r("The wrapper need at least one child element to be scroller."),this.clientHeight=document.documentElement.clientHeight,this.clientWidth=document.documentElement.clientWidth,this.scrollStyle=this.scrollEl.style,this.wrapComputedStyle=window.getComputedStyle(this.wrapEl,null),this.scrollComputedStyle=window.getComputedStyle(this.scrollEl,null),this.wrapOffsetTop=T(this.wrapEl),this.translateZ=this.options.gpu?" translateZ(0)":"",this.minScrollY=0,this.maxScrollY=0,this.y=0,this.previousY=0,this.pointY=0,this.startTime=0,this.startY=0,this.endTime=0,this.relativeY=0,this.distanceY=0,this.movingDistanceY=0,this.listeners={},this.events={},this.isDisabled=!1,this.isInTouch=!1,this.isMoved=!1,this.isInTransition=!1,this.stopFromTransition=!1,this.animationTimer=null,this.resizeTimer=null,this.pulltopstarted=!1,this.pullbottomstarted=!1,this.pullingtop=!1,this.pullingbottom=!1,this.onPullHide=null,this.domLoaded=!1,this.scrollbar=null,this._init()}Object.assign(H.prototype,_,x,k,M);o("WO3u");var P=document.getElementById("root"),A=document.getElementById("app");function B(t,i){void 0===i&&(i=10);var o=document.createElement("div");o.className="page";for(var s=(t+1)*i,n="",e=t*i;e<s;e++)n+='\n      <div class="box">\n        <div class="block">'+e+"</div>\n      </div>\n    ";return o.innerHTML=n,o}P.style.height="100%",P.style.overflow="hidden",A.innerHTML+=['<div class="top">下拉加载</div>','<div class="bottom">上拉加载</div>'].join("");for(var I=0;I<3;I++)A.appendChild(B(I));for(var z=document.querySelectorAll(".box"),O=function(t){z[t].addEventListener("click",function(i){console.info(t)},!1)},F=0;F<z.length;F++)O(F);var q=window.scroller=new H(P,{pulltopLimitDistance:window.rem2px(2),pullbottomLimitDistance:window.rem2px(2)});q.on("touchstart",function(t){console.info("touchstart",t)}),q.on("touchmove",function(t){console.info("touchmove",t)}),q.on("touchend",function(t){console.info("touchend",t)}),q.on("scrollstart",function(t){console.info("scrollstart",t)}),q.on("scroll",function(t){console.info("scroll",t)}),q.on("scrollend",function(t){console.info("scrollend",t)});var R=A.querySelector(".top"),j=A.querySelector(".bottom");q.on("pulltopstart",function(){console.info("pulltopstart"),R.textContent="松开加载"}),q.on("pulltopcancel",function(){console.info("pulltopcancel"),R.textContent="下拉加载"}),q.on("pulltop",function(){console.info("pulltop"),R.textContent="加载中",setTimeout(function(){R.textContent="加载完毕",q.pulltopDone({onHide:function(){R.textContent="下拉加载"}})},2e3)}),q.on("pullbottomstart",function(){console.info("pullbottomstart"),j.textContent="松开加载"}),q.on("pullbottomcancel",function(){console.info("pullbottomcancel"),j.textContent="上拉加载"}),q.on("pullbottom",function(){console.info("pullbottom"),j.textContent="加载中",setTimeout(function(){A.appendChild(B(4)),j.textContent="加载完毕",q.pullbottomDone({needLoadImgs:".img",onHide:function(){j.textContent="上拉加载"}})},2e3)})}},[["mWO7",2,1]]]);